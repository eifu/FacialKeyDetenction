<!DOCTYPE html>
<meta charset="utf-8">

<body>  
    <script src="http://d3js.org/d3.v4.min.js"></script>
    <p id="g1"></p>

 <script>
 var width = 960,
    height = 960;

    d3.csv("imageTest.csv", function(error, data){
        if (error) throw error;

        console.log(data[0]);

        var dx = 96;
        var dy = 96;

        var xScale = d3.scaleLinear()
        .domain([0, 96])
        .range([0,width]);

        var yScale = d3.scaleLinear()
        .domain([0,96])
        .range([0,height]);

        d3.select("body").append("canvas")
        .attr("width", dx)
        .attr("height", dy)
        .style("width", width+"px")
        .style("height", height + "px")
        .call(drawImage);

        var svg = d3.select("body").append("svg")
        .attr("width", width)
        .attr("height", height);

        function drawImage(canvas) {
            var context = canvas.node().getContext("2d"),
                imageData = context.createImageData(dx, dy);

            console.log(data[0])
            for (var y = 0; y < dy; y++) {
                for (var x = 0; x < dx; x++) {
                    var c = data[0][y * 96 + x];
                    imageData.data[4*(y * 96 + x)] =c;
                    imageData.data[4*(y * 96 + x) + 1] =c;
                    imageData.data[4*(y * 96 + x) + 2] =c;
                    imageData.data[4*(y * 96 + x) + 3] =255;
                }
            }
            context.putImageData(imageData, 0, 0);
            console.log(context);

        }

    });
   
</script>
</body>